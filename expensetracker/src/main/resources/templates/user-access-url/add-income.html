<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base-page-user-access::layout(~{::section})}">
<head>
    <meta charset="utf-8" />
    <title>
        Add New Income
    </title>

    <div th:replace="~{base-page-user-access :: styles-add-expense}" />
</head>

<body>
<section>
    <div class="flex dynamic-content">
        <!-- Main Content -->
        <div class="flex-1 p-8">
            <div class="mb-4">
                <h1 class="text-4xl font-bold mb-6">
                    Add New Income
                </h1>

                <form class="space-y-6" th:action="@{/user/add-income-process}" method="post" th:object="${income}">

                    <div>
                        <label class="block text-black font-semibold ml-3 mb-2">
                            Income Source
                        </label>
                        <input th:classappend="${#fields.hasErrors('source') ? 'border-red-500 bg-red-100' : ''}"
                               class="w-full p-3 border border-gray-300 rounded-xl bg-gray-100"
                               placeholder="Enter source of income" name="source" id="incomeSource" type="text" />
                        <div th:if="${#fields.hasErrors('source')}" class="text-red-500 text-sm mt-1">
                            <p th:each="e : ${#fields.errors('source')}" th:text="${e}"></p>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="flex-1">
                            <label class="block text-black font-semibold ml-3 mb-2">
                                Amount
                            </label>
                            <input th:classappend="${#fields.hasErrors('amount') ? 'border-red-500 bg-red-100' : ''}"
                                   class="w-full p-3 border border-gray-300 rounded-xl bg-gray-100"
                                   placeholder="Enter the amount" name="amount" id="incomeAmount" type="number" required />
                            <div th:if="${#fields.hasErrors('amount')}" class="text-red-500 text-sm mt-1">
                                <p th:each="e : ${#fields.errors('amount')}" th:text="${e}"></p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-black font-semibold ml-3 mb-2">
                            Date
                        </label>
                        <input th:classappend="${#fields.hasErrors('date') ? 'border-red-500 bg-red-100' : ''}"
                               class="w-full p-3 border border-gray-300 rounded-xl bg-gray-100"
                               placeholder="MM/DD/YYYY" name="date" id="incomeDate" type="date" />
                        <div th:if="${#fields.hasErrors('date')}" class="text-red-500 text-sm mt-1">
                            <p th:each="e : ${#fields.errors('date')}" th:text="${e}"></p>
                        </div>
                    </div>

                    <div>
                        <label class="block text-black font-semibold ml-3 mb-2">
                            Description (Optional)
                        </label>
                        <textarea id="incomeDescription"
                                  class="w-full p-3 border border-gray-300 rounded-xl bg-gray-100 h-24"
                                  placeholder="Add any additional details" name="description"></textarea>
                        <div th:if="${#fields.hasErrors('description')}" class="text-red-500 text-sm mt-1">
                            <p th:each="e : ${#fields.errors('description')}" th:text="${e}"></p>
                        </div>
                    </div>

                    <div class="flex justify-between items-center mt-6">
                        <button id="cancel-income" class="px-6 py-3 text-black font-semibold rounded-md" type="reset"
                                style="background-color: #c2edda">
                            Cancel
                        </button>
                        <button id="save-income" class="px-6 py-3 text-black font-semibold rounded-md" type="submit"
                                style="background-color: #c2edda">
                            Save Income
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<div th:fragment="scripts">
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" th:src="@{/javascript/add-income-script.js}"></script>
</div>
</body>
</html>
